regime_universe:
  frequency: 
  calendar: business

  data_path: "/Users/alecmitchell-thomson/Desktop/Coding/quant-data/macro"
  raw_path: "data/raw/macro_raw.parquet"
  processed_path: "data/processed/macro_processed.parquet"
  raw_features_path: "data/features/macro_features_raw.parquet"
  ready_features_path: "data/features/macro_features_ready.parquet"
  
  lookback:
    start: "2000-01-02"
    end: "2026-01-23"

  series:
    # ============================
    # Risk / Financial Stress
    # ============================
    vix:
      id: VIXCLS
      frequency: daily
      name: "CBOE Volatility Index"
      description: "Market-implied equity volatility; proxy for fear, convexity demand, and risk-off stress."
      transforms:
        - [level, {z_score: {window: 63}}]  # Absolute stress level
        - [{diff: {periods: 5}}, {z_score: {window: 126}}]  # Short-term momentum
        - [{ma: {window: 21}}, {diff: {periods: 21}}, {z_score: {window: 252}}]  # Medium-term trend
        - [{pct_change: {periods: 1}}, {std: {window: 21}}, {z_score: {window: 126}}]  # Volatility of volatility

    nfci:
      id: NFCI
      frequency: weekly
      name: "Chicago Fed National Financial Conditions Index"
      description: "Broad financial conditions/stress composite; captures tightening/loosening of credit and funding."
      transforms:
        - [level, {z_score: {window: 50}}]  # Current financial conditions
        - [{diff: {periods: 21}}, {z_score: {window: 50}}]  # Tightening/loosening rate
        - [{diff: {periods: 5}}, {diff: {periods: 5}}, {z_score: {window: 25}}]  # Acceleration

    # ============================
    # Monetary Policy & Yield Curve
    # ============================
    ust2y:
      id: DGS2
      frequency: daily
      name: "2Y Treasury yield"
      description: "Near-term policy expectations; front-end rates sensitivity."
      transforms:
        - [level, {z_score: {window: 252}}]

    ust10y:
      id: DGS10
      frequency: daily
      name: "10Y Treasury yield"
      description: "Benchmark long-term nominal rate; growth/inflation/term-premium mix."
      transforms:
        - [level, {z_score: {window: 252}}]  # Long-term rate level
        - [{diff: {periods: 21}}, {z_score: {window: 252}}]  # Growth/inflation expectations
        - [{diff: {periods: 1}}, {std: {window: 21}}, {z_score: {window: 126}}]  # Rate uncertainty

    yc_10_3m:
      id: T10Y3M
      frequency: daily
      name: "10Y-3M yield curve slope"
      description: "Cycle/recession indicator; robust curve-slope measure."
      transforms:
        - [level, {z_score: {window: 252}}]  # Current curve slope (recession signal)
        - [{diff: {periods: 21}}, {z_score: {window: 252}}]  # Steepening/flattening
        - [{diff: {periods: 5}}, {z_score: {window: 126}}]  # Rate of adjustment

    # ============================
    # Inflation: Realised & Expected
    # ============================
    pce_core:
      id: PCEPILFE
      frequency: monthly
      name: "Core PCE price index"
      transforms:
        - [{yoy: {periods: 12, method: pct_change}}, {z_score: {window: 36}}]  # 12 months YoY, 5yr window
        - [{yoy: {periods: 12, method: pct_change}}, {diff: {periods: 1}}, {z_score: {window: 36}}]
        - [{pct_change: {periods: 1}}, {z_score: {window: 36}}]  # 1-month change, 3yr window

    # ============================
    # Growth / Activity
    # ============================
    cfnai:
      id: CFNAI
      frequency: monthly
      name: "Chicago Fed National Activity Index"
      transforms:
        - [level, {z_score: {window: 36}}]  # 3yr window (36 months)
        - [{diff: {periods: 1}}, {z_score: {window: 36}}]  # 1-month diff

    indpro:
      id: INDPRO
      frequency: monthly
      name: "Industrial Production Index"
      transforms:
        - [{yoy: {periods: 12, method: pct_change}}, {z_score: {window: 36}}]  # 12 months YoY
        - [{yoy: {periods: 12, method: pct_change}}, {diff: {periods: 1}}, {z_score: {window: 36}}]
        - [{pct_change: {periods: 3}}, {z_score: {window: 36}}]  # 3-month change

    # ============================
    # Labour Market
    # ============================
    jobless_claims:
      id: ICSA
      frequency: weekly
      name: "Initial jobless claims"
      description: "Leading labour stress indicator; use smoothed change to reduce weekly noise."
      transforms:
        - [{ma: {window: 4}}, {z_score: {window: 50}}]  # Smoothed absolute level
        - [{ma: {window: 4}}, {pct_change: {periods: 13}}, {z_score: {window: 50}}]  # Labour deterioration
        - [{ma: {window: 4}}, {pct_change: {periods: 4}}, {z_score: {window: 25}}]  # Rapid shifts
